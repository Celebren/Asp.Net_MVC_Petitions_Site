@model VoteWithYourWallet.Models.Petition

@{
    ViewBag.Title = Model.Title;
}
<script>

    var signatures = 0;

    signatures = @Model.Signatures;


    // this adjusts the progress bars depending on how many have signed
    $(document).ready(function() {

        $('#howManyPeopleHaveSigned').append(signatures + " others are supporting this cause");
        $('.progress-bar').append(signatures);
        $('.progress-bar').width(signatures + "%");
        $('.progress-bar').aria - valuenow(signatures);

    });

    var counter = 1;
    for (var i = 0; i < signatures; i++) {
        $(document).ready(function() {
            $("#supporter").append("<p>Supporter " + counter + "</p>");
            counter++;
        });
    }

</script>

<br/>
<div class="row">
    <div class="col-md-6">
        <h2>@Model.Title</h2>
        <br/>
        @Html.DisplayFor(model => model.Text)
    </div>
    <div class="col-md-2"></div>
    <div class="col-md-4">
        <h3>Signatures</h3><br/>
        <p id="howManyPeopleHaveSigned"></p>
        <div class="progress">
            <div class="progress-bar progress-bar-striped active" role="progressbar"
                 aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            </div>
        </div>
        <br/>
        @using (Html.BeginForm()) {
            @Html.AntiForgeryToken()
            <div class="form-actions">
                <input type="submit" value="Sign the petition" class='btn btn-md pull-right'>
            </div>
        }

        <div>
            <br/><br/>
            <h4>People who have signed:</h4>
            <div id="supporter"></div>
        </div>
    </div>
</div>