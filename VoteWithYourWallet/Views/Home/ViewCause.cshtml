@model VoteWithYourWallet.Models.Petition


@{
    ViewBag.Title = Model.Title;
}
<script>

    var signatures = 0;

    // assign signatures number to variable
    signatures = @Model.Signatures;


    // this adjusts the progress bar depending on how many have signed
    $(document).ready(function() {
        // append "x others are supporting this cause" text
        $('#howManyPeopleHaveSigned').append(signatures + " others are supporting this cause");
        // show number of signatures on progress bar
        $('.progress-bar').append(signatures);
        // update progress bar width
        $('.progress-bar').width(signatures + "%");
        // update progress bar current value
        $('.progress-bar').aria - valuenow(signatures);
    });

    var counter = 1;
    for (var i = 0; i < signatures; i++) {
        $(document).ready(function () {
            // diaplay names of supporters
            $("#supporter").append("<p>Supporter " + counter + "</p>");
            counter++;
        });
    }

</script>

<br />
<div class="row">
    <div class="col-md-6">
        <h2>@Model.Title</h2>
        <br />
        <p>@Model.Text</p>
    </div>
    <div class="col-md-2"></div>
    <div class="col-md-4">
        <br/>
        <p>Share this cause on social media</p>
        <!-- Add font awesome social media icons, only working on Chrome -->
        <a href="https://facebook.com/sharer.php?u=http://localhost:52792/Home/ViewCause/@Model.Id" class="fa fa-facebook"></a>
        <a href="https://twitter.com/intent/tweet?url=http://localhost:52792/Home/ViewCause/@Model.Id&text=@Model.Title" class="fa fa-twitter"></a>
        <a href="https://plus.google.com/share?url=http://localhost:52792/Home/ViewCause/@Model.Id" class="fa fa-google"></a>
        <a href="http://www.linkedin.com/shareArticle?mini=true&url=http://localhost:52792/Home/ViewCause/@Model.Id&title=@Model.Title" class="fa fa-linkedin"></a>
        <br />
        <h3>Signatures</h3><br />
        <p id="howManyPeopleHaveSigned"></p>
        <div class="progress">
            <div class="progress-bar progress-bar-striped active" role="progressbar"
                 aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            </div>
        </div>
        <br />
        <!-- sign petition button -->
        @using (Html.BeginForm()) {
        @Html.AntiForgeryToken()
        <div class="form-actions">
            <input type="submit" value="Sign the petition" class='btn btn-md pull-right'>
        </div>
}

        <div>
            <br /><br />
            <h4>People who have signed:</h4>
            <div id="supporter"></div>
        </div>
    </div>
</div>